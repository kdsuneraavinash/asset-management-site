<!DOCTYPE html>
<html lang="en">

{% include 'header.htm' %}

<body>
    <section class="d-flex p-3">
        <div class="card align-self-center p-4" id="camera-card">

            <h1>Scan for QR Code</h1>

            <form action="#" class="pt-3" method="get">

                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text bg-primary text-white" id="inputGroupFileAddon">Upload</span>
                        </div>
                        <div class="custom-file">

                            <input name="qr-file" type="file" class="custom-file-input" id="inputGroupFile" aria-describedby="inputGroupFileAddon"
                                accept="image/*" capture="camera">
                            <label class="custom-file-label" id="file-label" for="inputGroupFile">Choose file</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Detected QR code</div>
                        </div>
                        <input type="text" name="qr" id="cam-qr-result" class="form-control bg-white" disabled>
                    </div>
                </div>

                <hr>

                <div class="text-right">
                    <button class="btn btn-warning" id="qr-submit" disabled><i class="fas fa-check-circle"></i>&nbsp;Submit</i></button>
                </div>
            </form>
        </div>
    </section>

    {% include('js-loader.htm') %}

    <script>
        $("#inputGroupFile").on("change", function (v) {
            $("#file-label").text(this.files[0].name);
        })
    </script>

    <script type="module" src="js/qr-scanner-main.js"></script>

</body>
</html>